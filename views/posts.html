<div id="page-wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Posts</h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
        <div class="row">
            <div>
                <div class="panel panel-default"></div>
                <div class="panel-body"></div>
                <div class="table-responsive">
                    <table id="posts-table" class="table table-striped table-bordered table-hover"
                        id="dataTables-example">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>User ID</th>
                                <th>Book status</th>
                                <th>Book name</th>
                                <th>Book type ID</th>
                                <th>Description</th>
                                <th>Price</th>
                                <th>Date added</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="odd gradeX">
                                <td>Trident</td>
                                <td>Internet Explorer 4.0</td>
                                <td>Win 95+</td>
                                <td class="center">4</td>
                                <td class="center">X</td>
                                <td class="center">X</td>
                                <td class="center">X</td>
                                <td class="center">X</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>

<script type="text/javascript">

    getPosts();

    function getPosts() {

        $("#posts-table").DataTable({
            processing: true,
            serverSide: true,
            "ajax": {
                url: "api/admin/posts",
                type: "GET",
                beforeSend: function (xhr) { xhr.setRequestHeader('Authorization', localStorage.getItem("token")); },
                dataSrc: "",
                data: function (d) {
                    d.offset = d.start;
                    d.limit = d.length;
                    d.search = d.search.value;
                    console.log(d);
                }
            },
            "columns": [
                { "data": "id" },
                { "data": "user_id" },
                { "data": "book_status" },
                { "data": "book_name" },
                { "data": "book_type_id" },
                { "data": "description" },
                { "data": "price" },
                { "data": "date_added" }
            ]
        })

    };

    // 52 min


    /*
                function getPosts() {
                    $.ajax({
                        url: "api/admin/posts",
                        type: "GET",
                        beforeSend: function (xhr) { xhr.setRequestHeader('Authorization', localStorage.getItem("token")); },
                        success: function (data) {
                            console.log(data);
                            var html = "";
                            for (var i = 0; i < data.length; i++) {
                                html += '<tr class="odd gradeX">'
                                    + '<td>' + data[i].id + '</td>'
                                    + '<td>' + data[i].user_id + '</td>'
                                    + '<td>' + data[i].book_status + '</td>'
                                    + '<td>' + data[i].book_name + '</td>'
                                    + '<td>' + data[i].book_type_id + '</td>'
                                    + '<td>' + data[i].description + '</td>'
                                    + '<td>' + data[i].price + '</td>'
                                    + '<td>' + data[i].date_added + '</td></tr>';
                            }
                            $('#posts-table tbody').html(html);
                        }
                    });
                };
                */
</script>